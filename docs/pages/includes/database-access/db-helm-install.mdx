{{ dbName="test" }}
<Tabs>
<TabItem label="Teleport Community Edition" scope={["oss"]}>
Install the Teleport Kube Agent into your Kubernetes Cluster
with the Teleport Database Service configuration.

```code
$ JOIN_TOKEN=$(cat /tmp/token)
$ helm install teleport-kube-agent teleport/teleport-kube-agent \
  --create-namespace \
  --namespace teleport-agent \
  --set roles=db \
  --set proxyAddr=<Var name="teleport.example.com" description="Your Teleport Proxy Service or Teleport Cloud tenant address"/>:443 \
  --set authToken=${JOIN_TOKEN?} \
  --set "databases[0].name={{ dbName }}" \
  --set "databases[0].uri={{ databaseAddress }}" \
  --set "databases[0].protocol={{ dbProtocol }}" \
  --set "labels.env=dev" \
  --version (=teleport.version=)
```

</TabItem>
<TabItem label="Enterprise" scope={["enterprise"]}>
Install the Teleport Kube Agent into your Kubernetes Cluster
with the Teleport Database Service configuration.

```code
$ JOIN_TOKEN=$(cat /tmp/token)
$ helm install teleport-kube-agent teleport/teleport-kube-agent \
  --create-namespace \
  --namespace teleport-agent \
  --set roles=db \
  --set proxyAddr=<Var name="teleport.example.com" description="Your Teleport Proxy Service or Teleport Cloud tenant address"/>:443 \
  --set authToken=${JOIN_TOKEN?} \
  --set "databases[0].name={{ dbName }}" \
  --set "databases[0].uri={{ databaseAddress }}" \
  --set "databases[0].protocol={{ dbProtocol }}" \
  --set enterprise=true \
  --set "labels.env=dev" \
  --version (=teleport.version=)
```

</TabItem>
<TabItem label="Cloud-Hosted"scope={["cloud","team"]}>
Install the Teleport Kube Agent into your Kubernetes Cluster
with the Teleport Database Service configuration.

```code
$ JOIN_TOKEN=$(cat /tmp/token)
$ helm install teleport-kube-agent teleport/teleport-kube-agent \
  --create-namespace \
  --namespace teleport-agent \
  --set roles=db \
  --set proxyAddr=<Var name="teleport.example.com" description="Your Teleport Proxy Service or Teleport Cloud tenant address"/>:443 \
  --set authToken=${JOIN_TOKEN?} \
  --set "databases[0].name={{ dbName }}" \
  --set "databases[0].uri={{ databaseAddress }}" \
  --set "databases[0].protocol={{ dbProtocol }}" \
  --set enterprise=true \  
  --set "labels.env=dev" \
  --set "updater.enabled=true" \
  --version (=cloud.version=)
```

</TabItem>
</Tabs>

Make sure that the Teleport agent pod is running. You should see one
`teleport-kube-agent` pod with a single ready container:

```code
$ kubectl -n teleport-agent get pods
NAME                    READY   STATUS    RESTARTS   AGE
teleport-kube-agent-0   1/1     Running   0          32s
```

